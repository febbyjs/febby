<!doctype html>
<html>
<head>
  <meta charset='utf-8' />
  <title>febby 0.1.7 | Documentation</title>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' type='text/css' rel='stylesheet' />
  <link href='assets/style.css' type='text/css' rel='stylesheet' />
  <link href='assets/github.css' type='text/css' rel='stylesheet' />
  <link href='assets/split.css' type='text/css' rel='stylesheet' />
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>febby</h3>
          <div class='mb1'><code>0.1.7</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#febby'
                  class=" toggle-sibling">
                  Febby
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#febbysetconfig'
                        class='regular pre-open'>
                        #setConfig
                      </a></li>
                      
                      <li><a
                        href='#febbysetmodels'
                        class='regular pre-open'>
                        #setModels
                      </a></li>
                      
                      <li><a
                        href='#febbysetroutes'
                        class='regular pre-open'>
                        #setRoutes
                      </a></li>
                      
                      <li><a
                        href='#febbygetport'
                        class='regular pre-open'>
                        #getPort
                      </a></li>
                      
                      <li><a
                        href='#febbygetenv'
                        class='regular pre-open'>
                        #getEnv
                      </a></li>
                      
                      <li><a
                        href='#febbyrunmiddleware'
                        class='regular pre-open'>
                        #runMiddleware
                      </a></li>
                      
                      <li><a
                        href='#febbygetmodels'
                        class='regular pre-open'>
                        #getModels
                      </a></li>
                      
                      <li><a
                        href='#febbygetapp'
                        class='regular pre-open'>
                        #getApp
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#httpsgithubcomfebbyjs--find-examples-here'
                  class="">
                  {{https://github.com/febbyjs/}} -find examples here
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#query'
                  class=" toggle-sibling">
                  Query
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#queryfindbyid'
                        class='regular pre-open'>
                        #findById
                      </a></li>
                      
                      <li><a
                        href='#queryfindone'
                        class='regular pre-open'>
                        #findOne
                      </a></li>
                      
                      <li><a
                        href='#queryfind'
                        class='regular pre-open'>
                        #find
                      </a></li>
                      
                      <li><a
                        href='#queryfindref'
                        class='regular pre-open'>
                        #findRef
                      </a></li>
                      
                      <li><a
                        href='#querysave'
                        class='regular pre-open'>
                        #save
                      </a></li>
                      
                      <li><a
                        href='#queryupdate'
                        class='regular pre-open'>
                        #update
                      </a></li>
                      
                      <li><a
                        href='#queryincrement'
                        class='regular pre-open'>
                        #increment
                      </a></li>
                      
                      <li><a
                        href='#querydistinct'
                        class='regular pre-open'>
                        #distinct
                      </a></li>
                      
                      <li><a
                        href='#queryremove'
                        class='regular pre-open'>
                        #remove
                      </a></li>
                      
                      <li><a
                        href='#querycount'
                        class='regular pre-open'>
                        #count
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='http://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='febby'>
      Febby
    </h3>
    
    
  </div>
  

  <p>Febby - A Configuration based NodeJs Framework on top of Express.
Create Production Ready REST API's in minutes.</p>
<p>Configuration based REST with custom Route support and Method specific Middleware configuration</p>


  <div class='pre p1 fill-light mt0'>new Febby(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        Returns Febby Object

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>npm install febby --save</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> Febby = <span class="hljs-built_in">require</span>(<span class="hljs-string">'febby'</span>);</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> febby = <span class="hljs-keyword">new</span> Febby();</pre>
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='febbysetconfig'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>setConfig(config)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>set Config Object before calling febby.createApp()</p>


  <div class='pre p1 fill-light mt0'>setConfig(config: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">let</span> config = {
 <span class="hljs-comment">// Port number on which your app going to listen, default PORT number is 5678</span>
 <span class="hljs-comment">// You can set PORT via Commandline while starting app `PORT=8000 node app.js `</span>
 <span class="hljs-comment">// it will take process.env.PORT by default if not found then it will take Port from config object</span>
 <span class="hljs-string">'port'</span>: <span class="hljs-number">3000</span>,
 <span class="hljs-comment">// hostname of app </span>
 <span class="hljs-string">'host'</span>: <span class="hljs-string">'127.0.0.1'</span>,
 <span class="hljs-comment">// application environment</span>
 <span class="hljs-string">'env'</span>: <span class="hljs-string">'development'</span>,
 <span class="hljs-comment">// Base path for models</span>
 <span class="hljs-string">'restBasePath'</span>: <span class="hljs-string">'/api/v1/model'</span>,
 <span class="hljs-comment">// Route Path for user defined Routes</span>
 <span class="hljs-string">'routeBasePath'</span>: <span class="hljs-string">'/api/v1/route'</span>,
 <span class="hljs-comment">// MongoDB configuration</span>
 <span class="hljs-string">'db'</span>: {
     <span class="hljs-comment">// Default maximum number of records while querying , if limit doesn't pass.</span>
   <span class="hljs-string">'limit'</span>: <span class="hljs-number">30</span>,
     <span class="hljs-comment">// mongodb url</span>
   <span class="hljs-string">'url'</span>: <span class="hljs-string">'mongodb://localhost:27017/test'</span>
 },
 <span class="hljs-comment">// body-parser maximum body object size </span>
 <span class="hljs-string">'jsonParserSize'</span>: <span class="hljs-string">'100kb'</span>
};
<span class="hljs-built_in">module</span>.exports = config;

<span class="hljs-comment">//config/index.js</span></pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">let</span> config = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./config'</span>);
 <span class="hljs-comment">//set configuration before calling createApp method.</span>
febby.setConfig(config);</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='febbysetmodels'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>setModels(models)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Set Model Object</p>


  <div class='pre p1 fill-light mt0'>setModels(models: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>models</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>let hasPermission = require('./middlewares/hasPermission');
let ValidateUser = (req, res, next, models) =&gt; {
     if(!req.query.user_id){
         return next(new Error('missing user_id in query'))
      }
     return next();
  }
// middlewares are configured in middlewares folder
// Remember app specific middleware functions are different and method specific middleware functions are different
// App specific middlewares can't be used in method specific and vice versa.
// method specific middleware has four arguments Request , Response, Models, Cb there is no next function, these will run route and method specific
// don't forget to pass empty callback once your validation run in middleware.
// if you didn't pass it will be in block state so careful and pass the Cb
// App specific midlleware has three arguments Request , Response , Next there is no models , these will run for every request
|- middlewares/
             / hasPermission.js

let user = {
    methods: {
        all: true,
         //if all set to true CRUD Operations enabled on this Model.
         // if all set false then it will enable user to define which methods need to be enabled
        middlewares: [ ValidateUser ],
         // Array of functions whcih will execute before your CRUD methods , make sure midllewares config properly.
         //below is method name and method configuration
        get: {
            isEnabled: true,
             // GET method will be enabled if you made isEnabled =  true, if false then GET method is disabled on this model
            middlewares: []
             // Here Array of Functions specific to GET method , these methods will exexute before Making Database call
        },
        post: {
            isEnabled: true,
            //empty array or make sure remove the midddleware key 
            // if you don't want to apply
            middlewares: [ hasPermission ]
        },
        put: {
            isEnabled: true,
        },
        delete: {
            //if you wish to block delete method you can make isEnabled = false or just remove delete key and object
            isEnabled: false
        }
    },
     // it is mongoose schema,
     // we are using mongoose internally so we just use mongoose schema to validate input data
     // by default created_at , updated_at keys of type Date is enabled to each and every model
     // date and time of document creation and updations are automatically updated  
    schema: {
        username: {
            type: String,
            required: true,
            unique: true
        },
        firstname: {
            type: String
        },
        lastname: {
            type: String
        },
        email: {
            type: String,
            unique: true
        }
    }
};
module.exports = user;
// Export User Object
|- models/user.js</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> user = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./user'</span>);
  <span class="hljs-built_in">module</span>.exports = {
     <span class="hljs-string">'user'</span>: user
};
<span class="hljs-comment">// Export all models configuration as single Object</span>
|- models/index.js</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">let</span> models = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./models'</span>);

febby.setModels(models);
<span class="hljs-comment">// set models before calling febby.createApp()</span></pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='febbysetroutes'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>setRoutes(routes)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Set Routes Object</p>


  <div class='pre p1 fill-light mt0'>setRoutes(routes: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>routes</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>For Every Route Handler will have following <span class="hljs-built_in">arguments</span>
 {Request} request - Express Request <span class="hljs-built_in">Object</span>
 {Response} response - Express Response <span class="hljs-built_in">Object</span>
 {NextFunction} next - Express next <span class="hljs-function"><span class="hljs-keyword">function</span>
 </span>{Models} models - configured models
 Below is just a sample example.

|- routes/
         <span class="hljs-regexp">/handlers/</span>
                 /login.js
<span class="hljs-keyword">let</span> loginHandler = <span class="hljs-function">(<span class="hljs-params">request, response, next, models</span>) =&gt;</span> { 
     <span class="hljs-keyword">let</span> username = request.body.username
     <span class="hljs-keyword">let</span> password = request.body.password
     <span class="hljs-comment">// will handle user login logic here</span>
     models.user.findOne({<span class="hljs-string">'username'</span>:username},{}).
         then(<span class="hljs-function">(<span class="hljs-params">doc</span>)=&gt;</span>{
         <span class="hljs-comment">// validate the user and respond</span>
         }).catch(<span class="hljs-function">(<span class="hljs-params">error</span>)=&gt;</span>{
             next(error);
         })
     };

<span class="hljs-built_in">module</span>.exports = loginHandler;
<span class="hljs-comment">// Export loginHandler Function</span>
|- routes/handlers/user.js</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> loginHandler = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./handlers/login'</span>);
 <span class="hljs-keyword">let</span> ValidateUser = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./middlewares/validateUser'</span>);
 <span class="hljs-keyword">let</span> routes =  {
     <span class="hljs-string">'/login'</span>: {
         <span class="hljs-string">'method'</span>: <span class="hljs-string">'POST'</span>,
         <span class="hljs-string">'middlewares'</span>: [ ValidateUser ],
         <span class="hljs-string">'handler'</span>: loginHandler
     }
 };
<span class="hljs-built_in">module</span>.exports = routes;
<span class="hljs-comment">// Export all Route configuration as single Object</span>
|- routes/index.js</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">let</span> routes = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./routes'</span>);

febby.setRoutes(routes);
<span class="hljs-comment">// set routes before calling febby.createApp()</span></pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='febbygetport'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getPort()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns App port</p>


  <div class='pre p1 fill-light mt0'>getPort(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code>:
        port number

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='febbygetenv'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getEnv()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns App Environment</p>


  <div class='pre p1 fill-light mt0'>getEnv(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        environment

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='febbyrunmiddleware'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>runMiddleware(middlewareFunc)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Provides ability to run configure middleware functions .
Its is same as ExpressJs Middleware Processing.</p>


  <div class='pre p1 fill-light mt0'>runMiddleware(middlewareFunc: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>middlewareFunc</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>Simple Logger

<span class="hljs-keyword">const</span> logger = <span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
     <span class="hljs-built_in">console</span>.info(req.method+<span class="hljs-string">' : '</span>+req.url);
     next();
}

febby.runMiddleware(logger);

** Make Sure You must pass request object to next by calling next callback</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='febbygetmodels'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getModels()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns Defined Models as an Object</p>


  <div class='pre p1 fill-light mt0'>getModels(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        returns Object of models

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>Getting Models <span class="hljs-keyword">of</span> an Application , Model names are always Plural

<span class="hljs-keyword">let</span> models = febby.getModels();

models.users.findOne({<span class="hljs-string">'username'</span>:<span class="hljs-string">'vanku'</span>},{}).then(<span class="hljs-function">(<span class="hljs-params">user</span>)=&gt;</span>{
<span class="hljs-comment">//Handle user logic</span>
}).catch(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span>{
<span class="hljs-comment">//handle error</span>
})

now you can use models obejct throught application</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='febbygetapp'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getApp()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns Express App Object so that user can do what ever things he want</p>


  <div class='pre p1 fill-light mt0'>getApp(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        App Obejct

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Returns Express App Object</span>
<span class="hljs-keyword">let</span> app = febby.getApp();

app.use(<span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
     <span class="hljs-built_in">console</span>.info(req.method+<span class="hljs-string">' : '</span>+req.url);
     next();
})
<span class="hljs-comment">// already 404 handled inside of framework so dont handle 404 here, after getting app object.</span></pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='httpsgithubcomfebbyjs--find-examples-here'>
      {{https://github.com/febbyjs/}} -find examples here
    </h3>
    
    
  </div>
  

  <p>creates An Express App</p>


  <div class='pre p1 fill-light mt0'>{{https://github.com/febbyjs/}} -find examples here</div>
  
  

  
  
  
  
  
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>// make sure you configured models and config object before calling this method

const Febby = require('febby');

const config= require('./config');
const models = require('./models');
const routes = require('./routes');

 const febby = new Febby();

febby.setConfig(config);
febby.setModels(models);
febby.setRoutes(routes);

febby.createApp();

*********** Recomended Folder Structure *************
// start

config/
     /index.js
models/
     /users/index.js
     /books/index.js
     /index.js
routes/
      / Handlers
                 /loginHandler.js
                 /signupHandler.js
                 /logoutHandler.js
      / index.js
middlewares/
           / appSpecific
           / methodSpecific
app.js

// end</pre>
    
  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='query'>
      Query
    </h3>
    
    
  </div>
  

  <p>Here is the supported methods findById, findOne, find, findRef, save, update, increment, distinct, count, remove</p>


  <div class='pre p1 fill-light mt0'>new Query(collection: any)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>collection</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='queryfindbyid'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>findById(id, selectionFields)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>findById query to get a document based on id field</p>


  <div class='pre p1 fill-light mt0'>findById(id: ObjectId, selectionFields: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(ObjectId)</code>
	    mongodb ObjectId

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>selectionFields</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    Object represents required fields and non required fields .ex: {firstname:1,lastname:0}

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></code>:
        Collection document if found,
or an error if rejected.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// modelname is pluralized</span>
<span class="hljs-comment">// when ever you are using models , model names are always plurals.</span>
<span class="hljs-keyword">let</span> id  = <span class="hljs-string">'59f5edd03849b92e40fadf7c'</span>;
<span class="hljs-keyword">let</span> selectedFieldsObj = {<span class="hljs-string">'username'</span>:<span class="hljs-number">1</span>,<span class="hljs-string">'lastname'</span>:<span class="hljs-number">0</span>};
<span class="hljs-comment">// key with value 0 is omitted</span>
<span class="hljs-comment">// key with value 1 is fetched</span>
models.users.findById(id,selectedFieldsObj).then(<span class="hljs-function">(<span class="hljs-params">doc</span>)=&gt;</span>{
     log(doc);
}).catch(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span>{
     log(err);
})</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='queryfindone'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>findOne(query, selectionFields)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>findOne query to get a document based given query</p>


  <div class='pre p1 fill-light mt0'>findOne(query: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, selectionFields: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>query</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    query object conatins user mongodb query object. ex: {'firstname':'vasu'}

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>selectionFields</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    Object represents required fields and non required fields .ex: {firstname:1,lastname:0}

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></code>:
        Collection document if found,
or an error if rejected.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// modelname is pluralized</span>
<span class="hljs-comment">// when ever you are using models , model names are always plurals.</span>
<span class="hljs-keyword">let</span> query  = {<span class="hljs-string">'username'</span>:<span class="hljs-string">'vasuvanka'</span>};
<span class="hljs-keyword">let</span> selectedFieldsObj = {<span class="hljs-string">'username'</span>:<span class="hljs-number">1</span>,<span class="hljs-string">'lastname'</span>:<span class="hljs-number">0</span>};
<span class="hljs-comment">// key with value 0 is omitted</span>
<span class="hljs-comment">// key with value 1 is fetched</span>
models.users.findOne(query,selectedFieldsObj).then(<span class="hljs-function">(<span class="hljs-params">doc</span>)=&gt;</span>{
     log(doc);
}).catch(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span>{
     log(err);
})</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='queryfind'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>find(query, selectionFields, sortBy, skip, limit)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>find query to get the records of a collection by given mongodb query</p>


  <div class='pre p1 fill-light mt0'>find(query: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, selectionFields: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, sortBy: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, skip: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, limit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>query</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    mongodb query

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>selectionFields</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    selection object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>sortBy</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    sort object. ex: {createdAt:-1}

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>skip</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    skip number of records , default value is 0

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>limit</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    limit the result of your query by default limit is set to 30

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></code>:
        Collection documents if found,
or an error if rejected.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// modelname is pluralized</span>
<span class="hljs-comment">// when ever you are using models , model names are always plurals.</span>
<span class="hljs-keyword">let</span> query  = {<span class="hljs-string">'username'</span>:<span class="hljs-string">'vasuvanka'</span>};
<span class="hljs-keyword">let</span> selectedFieldsObj = {<span class="hljs-string">'username'</span>:<span class="hljs-number">1</span>,<span class="hljs-string">'lastname'</span>:<span class="hljs-number">0</span>};
<span class="hljs-keyword">let</span> skip = <span class="hljs-number">0</span>;  <span class="hljs-comment">// skip number of records</span>
<span class="hljs-keyword">let</span> limit = <span class="hljs-number">10</span>; <span class="hljs-comment">//0 to get all queried records</span>
<span class="hljs-keyword">let</span> sortBy = {<span class="hljs-string">'firstname'</span>:<span class="hljs-number">1</span>}; <span class="hljs-comment">// -1 for descending order</span>
<span class="hljs-comment">// key with value 0 is omitted</span>
<span class="hljs-comment">// key with value 1 is fetched</span>
models.users.find(query, selectedFieldsObj, sortBy, skip, limit).then(<span class="hljs-function">(<span class="hljs-params">doc</span>)=&gt;</span>{
     log(doc);
}).catch(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span>{
     log(err);
})</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='queryfindref'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>findRef(query, selectionFields, refObj, sortBy, skip, limit)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>findRef query to get refrenced documents from Other collection</p>


  <div class='pre p1 fill-light mt0'>findRef(query: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, selectionFields: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, refObj: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, sortBy: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, skip: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, limit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>query</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    query object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>selectionFields</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    selection object for query

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>refObj</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    ref object contains an array of selected fields of Other collection .
ex: refObj = {'collection_key1':
[
'name','email'
]
,'collection_key2':
[
'name','email'
]
...}

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>sortBy</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    sortby Object to filter result

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>skip</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    skip number of records , by deafult it is 0

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>limit</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    limit the result of your query by default limit is set to 30

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></code>:
        Collection documents if found,
or an error if rejected.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// modelname is pluralized</span>
<span class="hljs-comment">// when ever you are using models , model names are always plurals.</span>
<span class="hljs-keyword">let</span> query  = {<span class="hljs-string">'username'</span>:<span class="hljs-string">'vasuvanka'</span>};
<span class="hljs-keyword">let</span> selectedFieldsObj = {<span class="hljs-string">'username'</span>:<span class="hljs-number">1</span>,<span class="hljs-string">'lastname'</span>:<span class="hljs-number">0</span>};
<span class="hljs-keyword">let</span> skip = <span class="hljs-number">0</span>;  <span class="hljs-comment">// skip number of records</span>
<span class="hljs-keyword">let</span> limit = <span class="hljs-number">10</span>; <span class="hljs-comment">//0 to get all queried records</span>
<span class="hljs-keyword">let</span> sortBy = {<span class="hljs-string">'firstname'</span>:<span class="hljs-number">1</span>}; <span class="hljs-comment">// -1 for descending order</span>
<span class="hljs-comment">// key with value 0 is omitted</span>
<span class="hljs-comment">// key with value 1 is fetched</span>
<span class="hljs-keyword">let</span> refObj = {<span class="hljs-string">'user_id'</span>:[<span class="hljs-string">'username'</span>,<span class="hljs-string">'firstname'</span>]}
<span class="hljs-comment">// needed full document of other collection then just pass empty array</span>
<span class="hljs-comment">// refObj = {'user_id':[]}</span>
<span class="hljs-comment">// if i need two documents from different collections then</span>
<span class="hljs-comment">// refObj = {'user_id':[],'username':[]}</span>
<span class="hljs-comment">// ref mongoose for schema configuration</span>
models.users.findRef(query, selectedFieldsObj, refObj, sortBy, skip, limit).then(<span class="hljs-function">(<span class="hljs-params">doc</span>)=&gt;</span>{
     log(doc);
}).catch(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span>{
     log(err);
})</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='querysave'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>save(data)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Save the data.</p>


  <div class='pre p1 fill-light mt0'>save(data: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>data</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    json object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></code>:
        document if saved,
or an error if rejected.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// modelname is pluralized</span>
<span class="hljs-comment">// when ever you are using models , model names are always plurals.</span>
<span class="hljs-keyword">let</span> data  = {<span class="hljs-string">'username'</span>:<span class="hljs-string">'vasuvanka'</span>,<span class="hljs-string">'firstname'</span>:<span class="hljs-string">'vasu'</span>,<span class="hljs-string">'lastname'</span>:<span class="hljs-string">'vanka'</span>};
models.users.save(data).then(<span class="hljs-function">(<span class="hljs-params">doc</span>)=&gt;</span>{
     log(doc);
}).catch(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span>{
     log(err);
})</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='queryupdate'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>update(query, data, isMultiple, isUpsert)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Update matched Document(s);</p>


  <div class='pre p1 fill-light mt0'>update(query: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, data: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, isMultiple: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>, isUpsert: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>query</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    query object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>data</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    data object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>isMultiple</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</code>
	    if true it will update to all matched documents, if false only update to first matched document, default value is false

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>isUpsert</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</code>
	    if true it will create new record if none of the records matched .default value is false

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></code>:
        document status if updated,
or an error if rejected.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// modelname is pluralized</span>
<span class="hljs-comment">// when ever you are using models , model names are always plurals.</span>
<span class="hljs-keyword">let</span> query  = {<span class="hljs-string">'username'</span>:<span class="hljs-string">'vasuvanka'</span>};
<span class="hljs-keyword">let</span> data = {<span class="hljs-string">'firstname'</span>:<span class="hljs-string">'vicky'</span>,<span class="hljs-string">'lastname'</span>:<span class="hljs-string">'martin'</span>};
<span class="hljs-keyword">let</span> isMultiple = <span class="hljs-literal">false</span>; <span class="hljs-comment">// update applied to only first matched document , if true then applied all matched documents</span>
<span class="hljs-keyword">let</span> upsert = <span class="hljs-literal">true</span>; <span class="hljs-comment">// if true then there is document matched then it will create a document , if false no record created</span>
 models.users.update(query, data, isMultiple, upsert).then(<span class="hljs-function">(<span class="hljs-params">doc</span>)=&gt;</span>{
     log(doc);
}).catch(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span>{
     log(err);
})</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='queryincrement'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>increment(query, data, isMultiple, isUpsert)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Increment/Decrement a number by +/- any number. ex: 10 or -10</p>


  <div class='pre p1 fill-light mt0'>increment(query: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, data: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, isMultiple: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>, isUpsert: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>query</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    query object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>data</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    data object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>isMultiple</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</code>
	    if true it will update to all matched documents, if false only update to first matched document, default value is false

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>isUpsert</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</code>
	    if true it will create new record if none of the records matched .default value is false

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></code>:
        document status if updated,
or an error if rejected.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// modelname is pluralized</span>
<span class="hljs-comment">// when ever you are using models , model names are always plurals.</span>
<span class="hljs-keyword">let</span> query  = {<span class="hljs-string">'username'</span>:<span class="hljs-string">'vasuvanka'</span>};
<span class="hljs-keyword">let</span> data = {<span class="hljs-string">'amount'</span>:<span class="hljs-number">1</span>};
<span class="hljs-keyword">let</span> isMultiple = <span class="hljs-literal">false</span>; <span class="hljs-comment">// update applied to only first matched document , if true then applied all matched documents</span>
<span class="hljs-keyword">let</span> upsert = <span class="hljs-literal">true</span>; <span class="hljs-comment">// if true then there is document matched then it will create a document , if false no record created</span>
<span class="hljs-comment">// will increment amount of matched document field by +1</span>
 models.users.increment(query, data, isMultiple, upsert).then(<span class="hljs-function">(<span class="hljs-params">doc</span>)=&gt;</span>{
     log(doc);
}).catch(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span>{
     log(err);
})</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='querydistinct'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>distinct(query, field)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Return all distnict field values</p>


  <div class='pre p1 fill-light mt0'>distinct(query: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, field: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>query</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    query object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>field</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    field or key name

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></code>:
        documents if found,
or an error if rejected.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// modelname is pluralized</span>
<span class="hljs-comment">// when ever you are using models , model names are always plurals.</span>
<span class="hljs-keyword">let</span> query  = {<span class="hljs-string">'username'</span>:<span class="hljs-string">'vasuvanka'</span>};
<span class="hljs-keyword">let</span> field = <span class="hljs-string">"firstname"</span>;
 models.users.distinct(query, field).then(<span class="hljs-function">(<span class="hljs-params">doc</span>)=&gt;</span>{
     log(doc);
}).catch(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span>{
     log(err);
})</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='queryremove'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>remove(query)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Remove all matched documents</p>


  <div class='pre p1 fill-light mt0'>remove(query: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>query</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    query object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></code>:
        document status if removed,
or an error if rejected.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// modelname is pluralized</span>
<span class="hljs-comment">// when ever you are using models , model names are always plurals.</span>
<span class="hljs-keyword">let</span> query  = {<span class="hljs-string">'username'</span>:<span class="hljs-string">'vasuvanka'</span>};
 models.users.remove(query).then(<span class="hljs-function">(<span class="hljs-params">doc</span>)=&gt;</span>{
     log(doc);
}).catch(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span>{
     log(err);
})</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='querycount'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>count(query)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Count matched documents</p>


  <div class='pre p1 fill-light mt0'>count(query: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>query</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    query object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>)></code>:
        count of matched record query,
or an error if rejected.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// modelname is pluralized</span>
<span class="hljs-comment">// when ever you are using models , model names are always plurals.</span>
<span class="hljs-keyword">let</span> query  = {<span class="hljs-string">'username'</span>:<span class="hljs-string">'vasuvanka'</span>};
 models.users.count(query).then(<span class="hljs-function">(<span class="hljs-params">doc</span>)=&gt;</span>{
     log(doc);
}).catch(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span>{
     log(err);
})</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
